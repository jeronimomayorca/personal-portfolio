<nav
  id="mobile-menu"
  class="fixed inset-0 bg-primary/95 z-50 hidden"
  role="dialog"
  aria-modal="true"
>
  <div id="mobile-menu-backdrop" class="absolute inset-0 w-full h-full"></div>
  <div class="container mx-auto px-4 py-8 relative z-10">
    <div class="flex justify-end">
      <button
        id="close-menu"
        class="text-white hover:text-accent transition-colors"
        aria-label="Close menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <div class="flex flex-col items-center justify-center h-[80vh] space-y-8">
      <a
        href="https://github.com/jeronimomayorca"
        target="_blank"
        rel="noopener"
        class="hover:text-accent transition-colors mobile-social-link"
        aria-label="GitHub"
      >
        <svg
          class="w-10 h-10"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
          stroke-linecap="round"
          stroke-linejoin="round"
          ><path
            d="M12 2C6.48 2 2 6.58 2 12.26c0 4.5 2.87 8.32 6.84 9.67.5.09.68-.22.68-.48 0-.24-.01-.87-.01-1.7-2.78.62-3.37-1.36-3.37-1.36-.45-1.18-1.1-1.5-1.1-1.5-.9-.63.07-.62.07-.62 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.63-1.37-2.22-.26-4.56-1.14-4.56-5.07 0-1.12.39-2.03 1.03-2.75-.1-.26-.45-1.3.1-2.7 0 0 .84-.28 2.75 1.05A9.38 9.38 0 0 1 12 6.84c.85.004 1.71.12 2.51.34 1.91-1.33 2.75-1.05 2.75-1.05.55 1.4.2 2.44.1 2.7.64.72 1.03 1.63 1.03 2.75 0 3.94-2.34 4.81-4.57 5.07.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.81 0 .27.18.58.69.48A10.01 10.01 0 0 0 22 12.26C22 6.58 17.52 2 12 2Z"
          ></path></svg
        >
      </a>
      <a
        href="https://linkedin.com/in/mayorcajeronimo"
        target="_blank"
        rel="noopener"
        class="hover:text-accent transition-colors mobile-social-link"
        aria-label="LinkedIn"
      >
        <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24"
          ><path
            d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-9h3v9zm-1.5-10.28c-.97 0-1.75-.79-1.75-1.75s.78-1.75 1.75-1.75 1.75.79 1.75 1.75-.78 1.75-1.75 1.75zm13.5 10.28h-3v-4.5c0-1.08-.02-2.47-1.5-2.47-1.5 0-1.73 1.17-1.73 2.39v4.58h-3v-9h2.89v1.23h.04c.4-.75 1.38-1.54 2.84-1.54 3.04 0 3.6 2 3.6 4.59v4.72z"
          ></path></svg
        >
      </a>
      <a
        href="https://twitter.com/JeronimoMayorca"
        target="_blank"
        rel="noopener"
        class="hover:text-accent transition-colors mobile-social-link"
        aria-label="Twitter"
      >
        <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24"
          ><path
            d="M24 4.56c-.883.392-1.832.656-2.828.775 1.017-.611 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-2.72 0-4.924 2.206-4.924 4.924 0 .386.044.762.127 1.124-4.09-.205-7.719-2.166-10.148-5.144-.424.729-.666 1.577-.666 2.476 0 1.708.87 3.216 2.188 4.099-.807-.026-1.566-.247-2.23-.616v.062c0 2.386 1.697 4.374 3.95 4.827-.413.112-.849.172-1.298.172-.317 0-.626-.03-.927-.086.627 1.956 2.444 3.377 4.6 3.417-1.68 1.317-3.797 2.102-6.102 2.102-.397 0-.788-.023-1.175-.069 2.179 1.397 4.768 2.213 7.548 2.213 9.057 0 14.012-7.506 14.012-14.012 0-.213-.005-.425-.014-.636.962-.695 1.797-1.562 2.457-2.549z"
          ></path></svg
        >
      </a>
    </div>
  </div>
</nav>

<script>
  const mobileMenuButton = document.getElementById("mobile-menu-button");
  const closeMenuButton = document.getElementById("close-menu");
  const mobileMenu = document.getElementById("mobile-menu");
  const mobileMenuBackdrop = document.getElementById("mobile-menu-backdrop");

  mobileMenuButton?.addEventListener("click", () => {
    if (mobileMenu?.classList.contains("hidden")) {
      mobileMenu?.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    } else {
      if (mobileMenu) {
        mobileMenu.style.animation = "slideOut 0.3s ease-out forwards";
        mobileMenu.addEventListener("animationend", function handler() {
          mobileMenu?.classList.add("hidden");
          mobileMenu.style.animation = "";
          document.body.style.overflow = "";
          mobileMenu.removeEventListener("animationend", handler);
        });
      }
    }
  });

  closeMenuButton?.addEventListener("click", () => {
    if (mobileMenu) {
      mobileMenu.style.animation = "slideOut 0.3s ease-out forwards";
      mobileMenu.addEventListener("animationend", function handler() {
        mobileMenu?.classList.add("hidden");
        mobileMenu.style.animation = "";
        document.body.style.overflow = "";
        mobileMenu.removeEventListener("animationend", handler);
      });
    }
  });

  mobileMenuBackdrop?.addEventListener("click", () => {
    if (mobileMenu) {
      mobileMenu.style.animation = "slideOut 0.3s ease-out forwards";
      mobileMenu.addEventListener("animationend", function handler() {
        mobileMenu?.classList.add("hidden");
        mobileMenu.style.animation = "";
        document.body.style.overflow = "";
        mobileMenu.removeEventListener("animationend", handler);
      });
    }
  });

  document.querySelectorAll(".mobile-social-link").forEach((link) => {
    link.addEventListener("click", () => {
      if (mobileMenu) {
        mobileMenu.style.animation = "slideOut 0.3s ease-out forwards";
        mobileMenu.addEventListener("animationend", function handler() {
          mobileMenu?.classList.add("hidden");
          mobileMenu.style.animation = "";
          document.body.style.overflow = "";
          mobileMenu.removeEventListener("animationend", handler);
        });
      }
    });
  });
</script>

<style>
  #mobile-menu {
    animation: slideIn 0.3s ease-out forwards;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(100%);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideOut {
    from {
      opacity: 1;
      transform: translateX(0);
    }
    to {
      opacity: 0;
      transform: translateX(100%);
    }
  }
</style>
